AWSTemplateFormatVersion: 2010-09-09
Resources:
    r6trackerBackend:
        Type: AWS::ElasticBeanstalk::Application
    WorkerEnvironment:
        Type: AWS::ElasticBeanstalk::Environment
        Properties:
            ApplicationName: { Ref: r6trackerBackend }
            SolutionStackName: 64bit Amazon Linux 2017.03 v2.4.1 running Python 3.4
            OptionSettings:
              -
                Namespace: aws:autoscaling:launchconfiguration
                OptionName: InstanceType
                Value: t2.micro
              -
                Namespace: aws:autoscaling:launchconfiguration
                OptionName: IamInstanceProfile
                Value: "aws-elasticbeanstalk-ec2-role"
              -
                Namespace: aws:elasticbeanstalk:sqsd
                OptionName: InactivityTimeout
                Value: 3600
              -
                Namespace: aws:elasticbeanstalk:sqsd
                OptionName: VisibilityTimeout
                Value: 3600
              -
                Namespace: aws:elasticbeanstalk:sqsd
                OptionName: MaxRetries
                Value: 1
            Tier:
                Name: "Worker"
                Type: "SQS/HTTP"


